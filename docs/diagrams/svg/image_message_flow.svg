<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="817px" preserveAspectRatio="none" style="width:1184px;height:817px;background:#FFFFFF;" version="1.1" viewBox="0 0 1184 817" width="1184px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="602.3843" style="stroke:#000000;stroke-width:1.0;" width="10" x="124" y="114.814"/><rect fill="#FFFFFF" height="572.585" style="stroke:#000000;stroke-width:1.0;" width="10" x="334" y="144.6133"/><rect fill="#FFFFFF" height="45.5986" style="stroke:#000000;stroke-width:1.0;" width="10" x="614" y="234.0112"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="614" y="309.4092"/><rect fill="#FFFFFF" height="89.3979" style="stroke:#000000;stroke-width:1.0;" width="10" x="764" y="490.8037"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="985" y="520.603"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="1110" y="634.8003"/><rect fill="#FFFFFF" height="77.3979" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="926.5" x="251.5" y="595.2017"/><line style="stroke:#000000;stroke-width:1.0;" x1="29" x2="29" y1="83.0146" y2="735.1982"/><line style="stroke:#000000;stroke-width:1.0;" x1="129" x2="129" y1="83.0146" y2="735.1982"/><line style="stroke:#000000;stroke-width:1.0;" x1="338.5" x2="338.5" y1="83.0146" y2="735.1982"/><line style="stroke:#000000;stroke-width:1.0;" x1="619" x2="619" y1="83.0146" y2="735.1982"/><line style="stroke:#000000;stroke-width:1.0;" x1="769" x2="769" y1="83.0146" y2="735.1982"/><line style="stroke:#000000;stroke-width:1.0;" x1="990" x2="990" y1="83.0146" y2="735.1982"/><line style="stroke:#000000;stroke-width:1.0;" x1="1115" x2="1115" y1="83.0146" y2="735.1982"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="32" x="10" y="80.0752">User</text><ellipse cx="29" cy="14" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M29,22 L29,49 M16,30 L42,30 M29,49 L16,64 M29,49 L42,64 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="32" x="10" y="748.2734">User</text><ellipse cx="29" cy="760.2129" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M29,768.2129 L29,795.2129 M16,776.2129 L42,776.2129 M29,795.2129 L16,810.2129 M29,795.2129 L42,810.2129 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="108" x="75" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94" x="82" y="72.0752">Telegram Bot</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="108" x="75" y="734.1982"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94" x="82" y="755.2734">Telegram Bot</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="135" x="271.5" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121" x="278.5" y="72.0752">MessageHandlers</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="135" x="271.5" y="734.1982"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121" x="278.5" y="755.2734">MessageHandlers</text><rect fill="#FFFFFF" height="48.0293" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="146" x="546" y="33.9854"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="93" x="572.5" y="55.0605">ImageService</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="132" x="553" y="72.0752">(image_service.py)</text><rect fill="#FFFFFF" height="48.0293" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="146" x="546" y="734.1982"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="93" x="572.5" y="755.2734">ImageService</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="132" x="553" y="772.2881">(image_service.py)</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="94" x="722" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80" x="729" y="72.0752">LLMHandler</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="94" x="722" y="734.1982"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80" x="729" y="755.2734">LLMHandler</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="104" x="938" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90" x="945" y="72.0752">Agent Graph</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="104" x="938" y="734.1982"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90" x="945" y="755.2734">Agent Graph</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="86" x="1072" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="1079" y="72.0752">Translator</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="86" x="1072" y="734.1982"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="1079" y="755.2734">Translator</text><rect fill="#FFFFFF" height="602.3843" style="stroke:#000000;stroke-width:1.0;" width="10" x="124" y="114.814"/><rect fill="#FFFFFF" height="572.585" style="stroke:#000000;stroke-width:1.0;" width="10" x="334" y="144.6133"/><rect fill="#FFFFFF" height="45.5986" style="stroke:#000000;stroke-width:1.0;" width="10" x="614" y="234.0112"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="614" y="309.4092"/><rect fill="#FFFFFF" height="89.3979" style="stroke:#000000;stroke-width:1.0;" width="10" x="764" y="490.8037"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="985" y="520.603"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="1110" y="634.8003"/><polygon fill="#000000" points="112,110.814,122,114.814,112,118.814,116,114.814" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="29" x2="118" y1="114.814" y2="114.814"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76" x="38.5" y="110.0845">Send image</text><polygon fill="#000000" points="322,140.6133,332,144.6133,322,148.6133,326,144.6133" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="134" x2="328" y1="144.6133" y2="144.6133"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="181" x="143.5" y="139.8838">on_image(update, context)</text><polygon fill="#000000" points="145,170.4126,135,174.4126,145,178.4126,141,174.4126" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="139" x2="333" y1="174.4126" y2="174.4126"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="130" x="169" y="169.6831">Download image file</text><polygon fill="#000000" points="322,200.2119,332,204.2119,322,208.2119,326,204.2119" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="134" x2="328" y1="204.2119" y2="204.2119"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99" x="184.5" y="199.4824">Image file path</text><polygon fill="#000000" points="602,230.0112,612,234.0112,602,238.0112,606,234.0112" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="344" x2="608" y1="234.0112" y2="234.0112"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="196" x="381" y="229.2817">parse_image(path, image_url)</text><polygon fill="#000000" points="355,275.6099,345,279.6099,355,283.6099,351,279.6099" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="349" x2="618" y1="279.6099" y2="279.6099"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="93" x="435" y="259.0811">ImageAnalysis</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="122" x="420.5" y="274.8804">(type, text, meta)</text><polygon fill="#000000" points="602,305.4092,612,309.4092,602,313.4092,606,309.4092" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="344" x2="608" y1="309.4092" y2="309.4092"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="251" x="353.5" y="304.6797">extract_text_for_processing(analysis)</text><polygon fill="#000000" points="355,335.2085,345,339.2085,355,343.2085,351,339.2085" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="349" x2="618" y1="339.2085" y2="339.2085"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="96" x="433.5" y="334.479">Extracted text</text><line style="stroke:#000000;stroke-width:1.0;" x1="344" x2="386" y1="384.8071" y2="384.8071"/><line style="stroke:#000000;stroke-width:1.0;" x1="386" x2="386" y1="384.8071" y2="397.8071"/><line style="stroke:#000000;stroke-width:1.0;" x1="345" x2="386" y1="397.8071" y2="397.8071"/><polygon fill="#000000" points="355,393.8071,345,397.8071,355,401.8071,351,397.8071" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="128" x="379.5" y="364.2783">Build user_message</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="185" x="351" y="380.0776">with extracted text context</text><polygon fill="#000000" points="752,486.8037,762,490.8037,752,494.8037,756,490.8037" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="344" x2="758" y1="490.8037" y2="490.8037"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="122" x="493" y="422.877">get_response_api(</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="98" x="510" y="438.6763">user_message,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="533" y="454.4756">user_id,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95" x="511.5" y="470.2749">user_language</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="6" x="551" y="486.0742">)</text><polygon fill="#000000" points="973,516.603,983,520.603,973,524.603,977,520.603" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="774" x2="979" y1="520.603" y2="520.603"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192" x="783.5" y="515.8735">Process through agent graph</text><polygon fill="#000000" points="785,546.4023,775,550.4023,785,554.4023,781,550.4023" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="779" x2="989" y1="550.4023" y2="550.4023"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="62" x="851" y="545.6729">Response</text><polygon fill="#000000" points="355,576.2017,345,580.2017,355,584.2017,351,580.2017" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="349" x2="768" y1="580.2017" y2="580.2017"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="84" x="514.5" y="575.4722">llm_response</text><path d="M261.5,595.2017 L315.5,595.2017 L315.5,603.001 L305.5,613.001 L251.5,613.001 L251.5,605.2017 A10,10 0 0 1 261.5,595.2017 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="77.3979" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="926.5" x="251.5" y="595.2017"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="266.5" y="609.2715">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="174" x="330.5" y="608.2607">[User language != English]</text><polygon fill="#000000" points="1098,630.8003,1108,634.8003,1098,638.8003,1102,634.8003" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="344" x2="1104" y1="634.8003" y2="634.8003"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="106" x="674" y="630.0708">translate_text()</text><polygon fill="#000000" points="355,660.5996,345,664.5996,355,668.5996,351,664.5996" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="349" x2="1114" y1="664.5996" y2="664.5996"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="134" x="662.5" y="659.8701">Translated response</text><polygon fill="#000000" points="40,713.1982,30,717.1982,40,721.1982,36,717.1982" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="34" x2="338" y1="717.1982" y2="717.1982"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="97" x="135.5" y="696.6694">Send response</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="149" x="109.5" y="712.4688">(with voice if enabled)</text><!--SRC=[ZLJRQjmm47tNLqpoj8PDANqqjB2XeGqaK9hsRS4ezgmjAakg96-wVz_HnRQSbjA5tVL8PywSkVdA3pWY6Cc5Okw7K8PRFeB3dnEg5X_HETxZGOfUGOlAeorGLa-gQxLLQE7TMyPuwxM5xuv01F2Y5OOh3zVVK68V76wrlmRkmlyMaUDyvggJQ5q4PMCBl1y9zeJsB5eygfq8PkEI_SPSgkWPGLk_XuV7p1SHP6xl3pqb1vyiDqC4HFjL5fOh9pcb616hoLX86Mu-XBngU4BLGHGM2YBEt6DCcD5F06KTDMZLHDXkCXs1zj1gAl0lNwr-SmrOVbY2VDGlIcgU0y59I4pyPO3xvGuCzyE69TxLT6uTPXa1iq-4pMHb8ICLDD7z6U6WkBmuuQWV_c8eZv347aRql68TlcBvYmY2Mq8rmQyvQTiOgrkQ2A7w7S_a_wFcBl5W5nNyE_JYT3i9sS547Mp6D8L7zIByCAlAR7DpDYGqHZNqw1kBpcX5bUH6x8uADdpxvK1qwxFagfzYj2ArC9Vq3Tnn0cluaae1Vg1jwmVWSL3xCAYhMvhMDCCtiwwlMLDPXmIC4SeQI3akAPJm88TnwUDEmwmOhjx3dUgbS0C3-XG5MPUY1f-VCVPrLqNiGbsiJpXVpQso-Powi0WC-49amKIRj-bFa9qNSlQc8OtTFMjwOu0u0Ih-BB6hM9dul7V5KLZXtm00]--></g></svg>