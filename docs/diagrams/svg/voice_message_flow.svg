<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1036px" preserveAspectRatio="none" style="width:1236px;height:1036px;background:#FFFFFF;" version="1.1" viewBox="0 0 1236 1036" width="1236px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="829.5454" style="stroke:#000000;stroke-width:1.0;" width="10" x="198" y="114.814"/><rect fill="#FFFFFF" height="799.7461" style="stroke:#000000;stroke-width:1.0;" width="10" x="405" y="144.6133"/><rect fill="#FFFFFF" height="45.5986" style="stroke:#000000;stroke-width:1.0;" width="10" x="669" y="297.2085"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="669" y="824.5928"/><rect fill="#FFFFFF" height="89.3979" style="stroke:#000000;stroke-width:1.0;" width="10" x="816" y="478.603"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="1037" y="508.4023"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="1162" y="685.7969"/><rect fill="#FFFFFF" height="140.5952" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="907.5" x="322.5" y="583.001"/><rect fill="#FFFFFF" height="199.7632" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="749" x="15" y="737.5962"/><path d="M15,892.1914 L764,892.1914 L764,927.3594 A10,10 0 0 1 754,937.3594 L25,937.3594 A10,10 0 0 1 15,927.3594 L15,892.1914 " fill="#FFFFFF" style="stroke:none;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="44" x2="44" y1="83.0146" y2="954.3594"/><line style="stroke:#000000;stroke-width:1.0;" x1="203" x2="203" y1="83.0146" y2="954.3594"/><line style="stroke:#000000;stroke-width:1.0;" x1="409.5" x2="409.5" y1="83.0146" y2="954.3594"/><line style="stroke:#000000;stroke-width:1.0;" x1="674" x2="674" y1="83.0146" y2="954.3594"/><line style="stroke:#000000;stroke-width:1.0;" x1="821" x2="821" y1="83.0146" y2="954.3594"/><line style="stroke:#000000;stroke-width:1.0;" x1="1042" x2="1042" y1="83.0146" y2="954.3594"/><line style="stroke:#000000;stroke-width:1.0;" x1="1167" x2="1167" y1="83.0146" y2="954.3594"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="32" x="25" y="80.0752">User</text><ellipse cx="44" cy="14" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M44,22 L44,49 M31,30 L57,30 M44,49 L31,64 M44,49 L57,64 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="32" x="25" y="967.4346">User</text><ellipse cx="44" cy="979.374" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M44,987.374 L44,1014.374 M31,995.374 L57,995.374 M44,1014.374 L31,1029.374 M44,1014.374 L57,1029.374 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="108" x="149" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94" x="156" y="72.0752">Telegram Bot</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="108" x="149" y="953.3594"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94" x="156" y="974.4346">Telegram Bot</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="135" x="342.5" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121" x="349.5" y="72.0752">MessageHandlers</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="135" x="342.5" y="953.3594"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121" x="349.5" y="974.4346">MessageHandlers</text><rect fill="#FFFFFF" height="48.0293" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="140" x="604" y="33.9854"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="87" x="630.5" y="55.0605">VoiceService</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="126" x="611" y="72.0752">(voice_service.py)</text><rect fill="#FFFFFF" height="48.0293" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="140" x="604" y="953.3594"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="87" x="630.5" y="974.4346">VoiceService</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="126" x="611" y="991.4492">(voice_service.py)</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="94" x="774" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80" x="781" y="72.0752">LLMHandler</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="94" x="774" y="953.3594"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="80" x="781" y="974.4346">LLMHandler</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="104" x="990" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90" x="997" y="72.0752">Agent Graph</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="104" x="990" y="953.3594"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90" x="997" y="974.4346">Agent Graph</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="86" x="1124" y="51"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="1131" y="72.0752">Translator</text><rect fill="#FFFFFF" height="31.0146" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="86" x="1124" y="953.3594"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="72" x="1131" y="974.4346">Translator</text><rect fill="#FFFFFF" height="829.5454" style="stroke:#000000;stroke-width:1.0;" width="10" x="198" y="114.814"/><rect fill="#FFFFFF" height="799.7461" style="stroke:#000000;stroke-width:1.0;" width="10" x="405" y="144.6133"/><rect fill="#FFFFFF" height="45.5986" style="stroke:#000000;stroke-width:1.0;" width="10" x="669" y="297.2085"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="669" y="824.5928"/><rect fill="#FFFFFF" height="89.3979" style="stroke:#000000;stroke-width:1.0;" width="10" x="816" y="478.603"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="1037" y="508.4023"/><rect fill="#FFFFFF" height="29.7993" style="stroke:#000000;stroke-width:1.0;" width="10" x="1162" y="685.7969"/><polygon fill="#000000" points="186,110.814,196,114.814,186,118.814,190,114.814" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="44" x2="192" y1="114.814" y2="114.814"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="135" x="53.5" y="110.0845">Send voice message</text><polygon fill="#000000" points="393,140.6133,403,144.6133,393,148.6133,397,144.6133" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="208" x2="399" y1="144.6133" y2="144.6133"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="178" x="217.5" y="139.8838">on_voice(update, context)</text><polygon fill="#000000" points="219,170.4126,209,174.4126,219,178.4126,215,174.4126" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="213" x2="404" y1="174.4126" y2="174.4126"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="127" x="243" y="169.6831">Download voice file</text><polygon fill="#000000" points="393,200.2119,403,204.2119,393,208.2119,397,204.2119" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="208" x2="399" y1="204.2119" y2="204.2119"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95" x="259" y="199.4824">Voice file path</text><polygon fill="#000000" points="657,293.2085,667,297.2085,657,301.2085,661,297.2085" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="415" x2="663" y1="297.2085" y2="297.2085"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="221" x="431.5" y="229.2817">transcribe_voice_multi_language(</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="35" x="529.5" y="245.0811">path,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100" x="497" y="260.8804">user_language,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="125" x="484.5" y="276.6797">fallback_to_english</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="6" x="539" y="292.479">)</text><polygon fill="#000000" points="426,338.8071,416,342.8071,426,346.8071,422,342.8071" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="420" x2="673" y1="342.8071" y2="342.8071"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="126" x="481.5" y="322.2783">TranscriptionResult</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="230" x="429.5" y="338.0776">(text, language_code, confidence)</text><line style="stroke:#000000;stroke-width:1.0;" x1="415" x2="457" y1="372.6064" y2="372.6064"/><line style="stroke:#000000;stroke-width:1.0;" x1="457" x2="457" y1="372.6064" y2="385.6064"/><line style="stroke:#000000;stroke-width:1.0;" x1="416" x2="457" y1="385.6064" y2="385.6064"/><polygon fill="#000000" points="426,381.6064,416,385.6064,426,389.6064,422,385.6064" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="211" x="422" y="367.877">Combine caption + transcription</text><polygon fill="#000000" points="804,474.603,814,478.603,804,482.603,808,478.603" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="415" x2="810" y1="478.603" y2="478.603"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="122" x="554.5" y="410.6763">get_response_api(</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114" x="563.5" y="426.4756">transcribed_text,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="594.5" y="442.2749">user_id,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="95" x="573" y="458.0742">user_language</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="6" x="612.5" y="473.8735">)</text><polygon fill="#000000" points="1025,504.4023,1035,508.4023,1025,512.4023,1029,508.4023" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="826" x2="1031" y1="508.4023" y2="508.4023"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192" x="835.5" y="503.6729">Process through agent graph</text><polygon fill="#000000" points="837,534.2017,827,538.2017,837,542.2017,833,538.2017" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="831" x2="1041" y1="538.2017" y2="538.2017"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="62" x="903" y="533.4722">Response</text><polygon fill="#000000" points="426,564.001,416,568.001,426,572.001,422,568.001" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="420" x2="820" y1="568.001" y2="568.001"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="84" x="576" y="563.2715">llm_response</text><path d="M332.5,583.001 L386.5,583.001 L386.5,590.8003 L376.5,600.8003 L322.5,600.8003 L322.5,593.001 A10,10 0 0 1 332.5,583.001 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="140.5952" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="907.5" x="322.5" y="583.001"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="337.5" y="597.0708">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="174" x="401.5" y="596.0601">[User language != English]</text><polygon fill="#000000" points="1150,681.7969,1160,685.7969,1150,689.7969,1154,685.7969" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="415" x2="1156" y1="685.7969" y2="685.7969"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100" x="738.5" y="617.8701">translate_text(</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99" x="744" y="633.6694">response_text,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="81" x="753" y="649.4688">target_lang,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114" x="736.5" y="665.2681">source_lang="en"</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="6" x="785.5" y="681.0674">)</text><polygon fill="#000000" points="426,711.5962,416,715.5962,426,719.5962,422,715.5962" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="420" x2="1166" y1="715.5962" y2="715.5962"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="134" x="724" y="710.8667">Translated response</text><path d="M25,737.5962 L79,737.5962 L79,745.3955 L69,755.3955 L15,755.3955 L15,747.5962 A10,10 0 0 1 25,737.5962 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="199.7632" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;" width="749" x="15" y="737.5962"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="30" y="751.666">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143" x="94" y="750.6553">[Voice mode enabled]</text><polygon fill="#000000" points="657,820.5928,667,824.5928,657,828.5928,661,824.5928" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="415" x2="663" y1="824.5928" y2="824.5928"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131" x="476.5" y="772.4653">synthesize_speech(</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99" x="497.5" y="788.2646">response_text,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="82" x="506" y="804.064">speech_lang</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="6" x="539" y="819.8633">)</text><polygon fill="#000000" points="426,850.3921,416,854.3921,426,858.3921,422,854.3921" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="420" x2="673" y1="854.3921" y2="854.3921"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78" x="505.5" y="849.6626">Audio bytes</text><polygon fill="#000000" points="55,880.1914,45,884.1914,55,888.1914,51,884.1914" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="49" x2="404" y1="884.1914" y2="884.1914"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="137" x="156" y="879.4619">Send voice response</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="15" x2="764" y1="893.1914" y2="893.1914"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="146" x="20" y="904.2505">[Voice mode disabled]</text><polygon fill="#000000" points="55,925.3594,45,929.3594,55,933.3594,51,929.3594" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="49" x2="404" y1="929.3594" y2="929.3594"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="129" x="160" y="924.6299">Send text response</text><!--SRC=[TLHDJzmm4BtdLmnx0XMggiULg0HjrHv0ge1oGegyzf1OE7PgExJqrzSppZhEGbVQtKpyvkCzF_iezZWWZ4PesuGdRKVXnG01Vqre9LvZ2AB32wCx2n9jH5-Xl9kiaivRzF3nGzC86Ps7do614Y1ggKTX8spkq6172PSkRa04-byZvZxVXLK6VM3G7Ao1zqvBl4N_dFuUxF4pXMt8yVlnvOGp6RJEkxgwdkin8eNhzOikaODlNemz0pW-OE653KOaYenOmgOXod3sYNXjuHQj0XuCXaoBXD7F8Y8JRz8FWUTvjk1io_3ZQLG9T0hI9Q7_n9CbRwz5Cp-KPb_SRskSs3Tyr0Pp_Rh1VLc3KSH-LONNjX29ZVHwXtcMTfXCrAqHjfiIW-C72vnxIWzJebkM-CsZC6Odv5CRNOksCphq3xQQF-z8dcCrsjtSTupQsHiCgMlQLc9_2liEhNGgg_Ae5Rdof55uKBgcL8f_TiDEMmGfk3oyApGvNYKbHsoXmzXw3AEp0LinQgQzIADQ7gn8eDLhELQqoMRfI_NPK5luuPrCfe3OfyFJzI3OTntvRadBvikMFDlFTZFFLNFFGEvGypPcA3HgE8tJ21FvY1PvuUWSlkOzQo1zAb4MZyyEIS_88h0oHQeYInIUDAJI70St-MGcYiytQ3Ua3lKe8rMdYDuluHiseUQgD6LyHQwgb0vWvfaDDoJx05gnCwWE6Sxs3oysNOH1_qsNoOWe-__moulCvnMLR4HwzORFBoQb7UnU8eR3mPUyQYxQeTLLKcYZ2LWJKpgyoQogGEDN1KYTgl_-RgbUqJNr3m00]--></g></svg>