[pytest]
testpaths = tests tm_bot/tests tm_bot/platforms/testing
addopts = -q
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
markers =
    unit: fast, pure unit tests (no I/O)
    repo: repository/persistence tests (filesystem only)
    contract: boundary/contract tests (LLMâ†”tools, schemas)
    handler: telegram handler tests (mocked network)
    integration: multi-module tests (offline)
    e2e: staging smoke checks (requires secrets/remote)
    nonfunctional: security/perf-smoke tests
    requires_postgres: skip when psycopg2 or DATABASE_URL not available
